---
description: Learn how to build a supervisor agent that manages a content creation workflow with separate research, writing, and editing tasks to generate automated blog content.
title: Agentic Blog Writer
category: Advanced
thumbnail: /images/tutorials/agentic-blog-writer.webp
order: 1
---
import { Accordion, AccordionItem } from "@nextui-org/react";
import SectionRows  from '@/components/SectionRows'
import { Callout } from 'nextra-theme-docs'

# Building a Supervisor Agent for Automated Blog Creation

<div className="grid md:grid-cols-1 gap-2 mb-8">
  <div className="space-y-2">
    <SectionRows 
      section="Difficulty Level" 
      chips={["Advanced"]} 
    />
    
    <SectionRows 
      section="Nodes" 
      chips={[
        "Supervisor Agent", 
        "Web Search", 
        "Scraper", 
        "Text LLM"
      ]} 
    />
    
    <SectionRows 
      section="Tags" 
      chips={["Content"]} 
    />
  </div>
</div>

<div className="mt-4 mb-4">
  <Callout type="info" emoji="ðŸ”¥">
  Try out the Agentic Blog Writer Agent template to build a supervisor agent that manages a content creation workflow with separate research, writing, and editing tasks to generate automated blog content.
  <br/>
  <a 
    href="https://studio.lamatic.ai/" 
    className="flex-shrink-0 hover:opacity-90 transition-opacity"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="103" height="32" viewBox="0 0 103 32" fill="none">
      <g clip-path="url(#clip0_1_3)">
      <path d="M99.1993 0H3.80074C1.70165 0 0 1.55727 0 3.47826V28.5217C0 30.4427 1.70165 32 3.80074 32H99.1993C101.298 32 103 30.4427 103 28.5217V3.47826C103 1.55727 101.298 0 99.1993 0Z" fill="white"/>
      <path d="M99.1993 0.173912H3.80073C1.8066 0.173912 0.190033 1.65332 0.190033 3.47826V28.5217C0.190033 30.3467 1.8066 31.8261 3.80073 31.8261H99.1993C101.193 31.8261 102.81 30.3467 102.81 28.5217V3.47826C102.81 1.65332 101.193 0.173912 99.1993 0.173912Z" stroke="black" stroke-opacity="0.22"/>
      <path d="M50.229 20.8696H46.6381V10.2198H50.3883C51.5171 10.2198 52.4832 10.433 53.2863 10.8594C54.0891 11.2823 54.7048 11.8907 55.1327 12.6846C55.5611 13.475 55.7751 14.4214 55.7751 15.5239C55.7751 16.6332 55.5592 17.5883 55.127 18.3891C54.6953 19.1865 54.0666 19.8001 53.2407 20.2299C52.4148 20.6563 51.4111 20.8696 50.229 20.8696ZM48.047 19.7255H50.1382C51.1005 19.7255 51.8979 19.5557 52.5304 19.2159C53.1632 18.8762 53.6345 18.3926 53.9454 17.7651C54.2559 17.1376 54.4114 16.3905 54.4114 15.5239C54.4114 14.6641 54.2578 13.924 53.9511 13.3034C53.644 12.6794 53.1856 12.201 52.576 11.8682C51.966 11.5319 51.2066 11.3638 50.2974 11.3638H48.047V19.7255ZM60.9764 21.036C60.1353 21.036 59.4097 20.8661 58.8001 20.5264C58.1939 20.1832 57.726 19.7047 57.3965 19.0911C57.0707 18.4741 56.9077 17.7565 56.9077 16.9383C56.9077 16.1201 57.0707 15.3991 57.3965 14.7751C57.726 14.1476 58.1844 13.6587 58.7716 13.3086C59.3626 12.955 60.052 12.7782 60.8399 12.7782C61.2945 12.7782 61.7434 12.8475 62.1865 12.9862C62.6297 13.1249 63.0333 13.3502 63.3967 13.6622C63.7604 13.9708 64.0504 14.3798 64.2663 14.8895C64.4822 15.3991 64.5901 16.0265 64.5901 16.7719V17.2919H57.8624V16.2311H63.2264C63.2264 15.7804 63.128 15.3783 62.9311 15.0247C62.7376 14.6711 62.4613 14.392 62.1014 14.1874C61.7453 13.9829 61.3249 13.8806 60.8399 13.8806C60.3055 13.8806 59.8438 14.002 59.4534 14.2446C59.0669 14.4839 58.7697 14.7959 58.5614 15.1807C58.3531 15.5655 58.2486 15.978 58.2486 16.4183V17.1255C58.2486 17.7287 58.3622 18.24 58.5895 18.6595C58.8206 19.0755 59.141 19.3927 59.55 19.6111C59.9593 19.8261 60.4344 19.9335 60.9764 19.9335C61.3287 19.9335 61.6468 19.8885 61.9307 19.7983C62.2188 19.7047 62.467 19.5661 62.6753 19.3823C62.8836 19.1951 63.0447 18.9629 63.1584 18.6855L64.4537 19.0183C64.3172 19.4205 64.088 19.7741 63.7661 20.0792C63.4442 20.3808 63.0466 20.6165 62.5731 20.7864C62.0995 20.9528 61.567 21.036 60.9764 21.036ZM65.9899 23.8648V12.8822H67.2856V14.151H67.4445C67.5433 14.0124 67.6794 13.8355 67.8538 13.6206C68.0317 13.4022 68.2856 13.2081 68.6151 13.0382C68.9484 12.8649 69.3992 12.7782 69.9674 12.7782C70.7025 12.7782 71.3501 12.9464 71.9107 13.2826C72.4713 13.6189 72.9092 14.0956 73.2235 14.7127C73.5378 15.3297 73.6952 16.0577 73.6952 16.8967C73.6952 17.7426 73.5378 18.4758 73.2235 19.0963C72.9092 19.7134 72.4732 20.1918 71.9164 20.5315C71.3596 20.8678 70.7177 21.036 69.9902 21.036C69.4296 21.036 68.9807 20.951 68.6436 20.7811C68.3065 20.6078 68.0469 20.412 67.8652 20.1936C67.6832 19.9717 67.5433 19.7879 67.4445 19.6423H67.3308V23.8648H65.9899ZM67.3084 16.8759C67.3084 17.4791 67.4049 18.0112 67.598 18.4723C67.7911 18.9299 68.0735 19.2887 68.4448 19.5487C68.8158 19.8053 69.2703 19.9335 69.8085 19.9335C70.3691 19.9335 70.837 19.7983 71.2118 19.5279C71.5907 19.2541 71.875 18.8866 72.0643 18.4255C72.2573 17.961 72.3539 17.4444 72.3539 16.8759C72.3539 16.3143 72.2592 15.8081 72.07 15.3575C71.8845 14.9033 71.6021 14.5445 71.2232 14.281C70.8484 14.0141 70.3767 13.8806 69.8085 13.8806C69.2631 13.8806 68.8048 14.0072 68.4334 14.2602C68.0621 14.5098 67.7816 14.86 67.5923 15.3106C67.403 15.7579 67.3084 16.2796 67.3084 16.8759ZM76.4416 10.2198V20.8696H75.1007V10.2198H76.4416ZM81.8033 21.036C81.0154 21.036 80.324 20.8643 79.7292 20.5211C79.1386 20.1779 78.6764 19.6978 78.3431 19.0807C78.0136 18.4637 77.8486 17.7426 77.8486 16.9175C77.8486 16.0855 78.0136 15.3592 78.3431 14.7386C78.6764 14.1181 79.1386 13.6362 79.7292 13.293C80.324 12.9498 81.0154 12.7782 81.8033 12.7782C82.5912 12.7782 83.2806 12.9498 83.8716 13.293C84.4665 13.6362 84.9286 14.1181 85.2582 14.7386C85.5915 15.3592 85.7583 16.0855 85.7583 16.9175C85.7583 17.7426 85.5915 18.4637 85.2582 19.0807C84.9286 19.6978 84.4665 20.1779 83.8716 20.5211C83.2806 20.8643 82.5912 21.036 81.8033 21.036ZM81.8033 19.9335C82.4019 19.9335 82.8945 19.7931 83.2806 19.5123C83.6672 19.2315 83.9534 18.8623 84.1388 18.4047C84.3243 17.9471 84.417 17.4514 84.417 16.9175C84.417 16.3836 84.3243 15.8861 84.1388 15.4251C83.9534 14.964 83.6672 14.5913 83.2806 14.307C82.8945 14.0228 82.4019 13.8806 81.8033 13.8806C81.205 13.8806 80.7125 14.0228 80.3259 14.307C79.9398 14.5913 79.6536 14.964 79.4681 15.4251C79.2822 15.8861 79.1895 16.3836 79.1895 16.9175C79.1895 17.4514 79.2822 17.9471 79.4681 18.4047C79.6536 18.8623 79.9398 19.2315 80.3259 19.5123C80.7125 19.7931 81.205 19.9335 81.8033 19.9335ZM87.7165 23.8648C87.4892 23.8648 87.2866 23.8475 87.1084 23.8128C86.9305 23.7816 86.8073 23.7504 86.7389 23.7192L87.0798 22.6376C87.4056 22.7139 87.6937 22.7416 87.9438 22.7208C88.1938 22.7 88.4154 22.5977 88.6085 22.414C88.8054 22.2337 88.9855 21.9408 89.1482 21.5352L89.3983 20.9112L86.1707 12.8822H87.6256L90.0345 19.2471H90.1258L92.535 12.8822H93.9896L90.2846 22.0344C90.1182 22.4469 89.9118 22.7884 89.6655 23.0588C89.4192 23.3327 89.133 23.5355 88.8073 23.6672C88.4854 23.799 88.1216 23.8648 87.7165 23.8648Z" fill="#7A7A7A"/>
      <path d="M24.478 5.21739H11.2441C10.9417 5.21739 10.6966 5.43555 10.6966 5.70466V8.95972C10.6966 9.16157 10.5128 9.32518 10.286 9.32518H6.62867C6.32629 9.32518 6.08118 9.54334 6.08118 9.81245V21.5908C6.08118 21.8493 6.19653 22.0971 6.40188 22.2799L11.5311 26.845C11.7364 27.0278 12.015 27.1304 12.3054 27.1304H25.5393C25.8417 27.1304 26.0868 26.9123 26.0868 26.6432V23.3881C26.0868 23.1863 26.2706 23.0226 26.4974 23.0226H30.1547C30.4571 23.0226 30.7022 22.8045 30.7022 22.5354V10.757C30.7022 10.4985 30.5868 10.2507 30.3815 10.0679L25.2523 5.50282C25.0469 5.32007 24.7684 5.21739 24.478 5.21739ZM13.6159 22.8801L10.8571 20.4269C10.7543 20.3355 10.6966 20.2115 10.6966 20.0822V9.69064C10.6966 9.4888 10.8804 9.32518 11.1072 9.32518H22.7829C22.9282 9.32518 23.0675 9.37656 23.1702 9.46804L25.9266 11.9234C26.0292 12.0148 26.0868 12.1387 26.0868 12.2678V22.6572C26.0868 22.859 25.9029 23.0226 25.6761 23.0226H14.0029C13.8578 23.0226 13.7186 22.9714 13.6159 22.8801Z" fill="black"/>
      <path d="M18.0048 12.5017L14.265 15.8301C14.0512 16.0204 14.0512 16.3289 14.265 16.5192L18.0048 19.8477C18.2186 20.038 18.5652 20.038 18.7791 19.8477L22.5188 16.5192C22.7326 16.3289 22.7326 16.0204 22.5188 15.8301L18.7791 12.5017C18.5652 12.3114 18.2186 12.3114 18.0048 12.5017Z" fill="#F33736"/>
      <path d="M37.2472 0.347828V31.6522" stroke="black" stroke-opacity="0.22"/>
      </g>
      <defs>
      <clipPath id="clip0_1_3">
      <rect width="103" height="32" fill="white"/>
      </clipPath>
      </defs>
    </svg>
  </a>
</Callout>
</div>



In this tutorial, you'll learn how to build a powerful supervisor agent that orchestrates a complete content creation workflow by managing specialized sub-agents for research, writing, and editing tasks. This system can automatically generate blog content on any topic with your preferred tone.


## What You'll Build
- A supervisor agent that manages research, writing, and editing tasks
- A web search integration for real-time research
- An intelligent workflow that processes and refines content through multiple stages
- An API endpoint that accepts topic and tone parameters to generate custom blog content

![Supervisor Agent Workflow](./img/agentic-blog-writer/agentic-blog-writer-flow.webp)

## Getting Started

### 1. Account Creation and New Flow Setup
1. Sign up at [Lamatic.ai](https://lamatic.ai/) and log in.
2. Navigate to Projects and click **New Project** or select your desired project.
3. Select "Create from Scratch" to build your own custom flow.
4. You'll need to create 8 nodes for this workflow: API Trigger Node, Supervisor Agent Node, Agent Loop End Node, Web Search Node, Content Generator (LLM Node), Editor (LLM Node), Extract Link (Code Node), and Scraper Node.

### 2. API Trigger Node Setup
1. Add an API Trigger Node to your canvas.
2. Configure the advanced schema to accept two parameters:
   ```json
   {
     "topic": "string",
     "tone": "string"
   }
   ```
3. Set the Response Type to "realtime" for synchronous processing.

### 3. Supervisor Agent Node Configuration
1. Add a Supervisor Agent Node to your canvas.
2. Connect it to the API Trigger Node.
3. Configure the agent with three sub-agents:
   - **Researcher**: Responsible for gathering information on the specified topic
   - **Writer**: Creates a draft blog based on the research
   - **Editor**: Refines the content to match the requested tone

4. Configure each agent's schema as follows:

   For the Researcher agent:
   ```json
   {
     "type": "object",
     "properties": {
       "research": {
         "type": "string",
         "required": true,
         "description": "This implies the final research fetched by the research team, which is supposed to be passed to the writing team"
       }
     }
   }
   ```

   For the Writer agent:
   ```json
   {
     "type": "object",
     "properties": {
       "writeup": {
         "type": "string",
         "required": true,
         "description": "This implies the final writeup based on the research by the research team"
       }
     }
   }
   ```

5. Add system prompts to guide the supervisor:
   - First prompt should include `TOPIC: {{triggerNode_1.output.topic}}` and `TONE: {{triggerNode_1.output.tone}}`
   - Second prompt should describe the workflow:
     ```
     You are the supervisor of a research based blog writer, which customises their content based on the tone preferred by the users. The following is the ideal flow in which you have to get tasks done from your subordinates agent teams:

     1. Once you are given the topic and tone, you first have to use the researcher team to fetch content based on topic.
     2. Next, you are suppose to give the content from the research team to the writer team and they will give you the writer blog.
     3. Finally, you are suppose to send the tone and content given by the writing team to fetch the final output from the editor team

     The ideal order is: Researcher -> Writer -> Editor

     Make sure you do the research first, then write it and only then send it to the edit team, once you get an answer from the editor, you can stop the execution of the flow. Make sure the last node you use is always an Editor and try not to break this chain.
     ```

6. Set the generative model to `gpt-4o` for optimal intelligence.
7. Set maximum iterations to 5 to allow sufficient cycles for completion.

### 4. Agent Loop End Node Setup
1. Add an Agent Loop End Node and connect it to the Supervisor Agent Node.
2. Configure this node to connect back to the Supervisor Agent Node.
3. This creates a feedback loop that allows the supervisor to delegate tasks sequentially.

### 5. Web Search Integration
1. Add a Web Search Node to your canvas.
2. Connect it to the Supervisor Node with a conditional connection from "Researcher."
3. Configure the web search with:
   - Query: `{{triggerNode_1.output.topic}}`
   - Results: Set to enough items to gather sufficient information
   - Connect to your Serper API key in the credentials field

### 6. Extract Link Node
1. Add a Code Node named "Extract Link."
2. Connect it to the Web Search Node.
3. Add the following JavaScript code to extract the first link from search results:
   ```javascript
   let content = {{webSearchNode_790.output.output.organic }}
   let links = []

   for (idx in content) {
     console.log(content[idx]['link'])
     links.push(content[idx]['link'])
   }

   console.log(links)

   let output = links[0]
   return output
   ```

### 7. Scraper Node Setup
1. Add a Scraper Node and connect it to the Extract Link Node.
2. Configure it with:
   - URL: `{{codeNode_231.output}}`
   - Mobile: false
   - Wait For: 250ms
   - Only Main Content: true
   - Connect to your FireCrawl API key

### 8. Extract Final Content
1. Add a Code Node named "Extract Final Content."
2. Connect it to the Scraper Node.
3. Add the following JavaScript code to extract the content:
   ```javascript
   let output = {{ scraperNode_183.output.markdown }}
   return output
   ```
4. Connect this node to the Agent Loop End Node to complete the research flow.

### 9. Writer LLM Node Configuration
1. Add an LLM Node for content generation.
2. Connect it to the Supervisor Node with a conditional connection from "Writer."
3. Configure the prompts:
   - User prompt: `RESEARCH: {{agentNode_549.output}}`
   - System prompt:
     ```
     You are a writer, who is suppose to write a blog of roughly one paragraph which summarises all the information given to you by the supervisor. Make sure you write the blog only from the research as it is.
     ```
4. Set the generative model to `gpt-4o` for high-quality content.
5. Connect this node to the Agent Loop End Node.

### 10. Editor LLM Node Configuration
1. Add an LLM Node for content editing.
2. Connect it to the Supervisor Node with a conditional connection from "Editor."
3. Configure the prompts:
   - User prompt:
     ```
     WRITEUP: {{agentNode_549.output}}
     TONE: {{triggerNode_1.output.tone}}
     ```
   - System prompt:
     ```
     You are an editor, who has to edit any give blog written by the writing team based on the given tone. Make sure that the final blog you give has the tone as requested by the user. In the end, just return the blog, do not give any leading statements. You will be given a writeup on the basis of which you just have to give the blog.
     ```
4. Set the generative model to `gpt-4o` for advanced editing capabilities.
5. Connect this node to the Agent Loop End Node.

### 11. API Response Configuration
1. Add an API Response Node.
2. Connect it to your workflow.
3. Configure the output mapping:
   ```json
   {
     "blog": "{{agentLoopEndNode_600.output.agentOutput}}"
   }
   ```

### 12. Testing Your Workflow
1. Click the "Test" button to test your workflow.
2. Provide sample values for "topic" and "tone" parameters:
   - Topic: "Artificial Intelligence in Healthcare"
   - Tone: "Professional"
3. Monitor the execution to ensure each agent is triggered in the correct sequence.
4. Verify that the final output contains a blog post on your topic with the appropriate tone.

### 13. Deployment
1. Click the "Deploy" button to make your workflow available as an API endpoint.
2. Your agent workflow will now be accessible through an API that accepts "topic" and "tone" parameters.
3. The flow will run on Lamatic's global edge network for fast, scalable performance.

## How It Works

This workflow functions through a sophisticated orchestration of agents:

1. The **Supervisor Agent** receives a topic and tone, then delegates tasks to specialized sub-agents.
2. The **Researcher Agent** triggers a web search, extracts relevant content from the top search result, and returns structured research.
3. The **Writer Agent** generates a concise blog post based solely on the research provided.
4. The **Editor Agent** refines the content to match the requested tone while preserving the core information.

The agent loop mechanism ensures that tasks are executed in the correct sequence, with each stage building upon the previous one to create a complete content creation pipeline.

## Use Cases

This supervisor agent workflow is ideal for:
- Generating company blog posts on various topics with consistent tone
- Creating product descriptions with different emotional appeals
- Producing educational content with adaptable reading levels
- Developing news summaries with various editorial perspectives

## Advanced Customization

You can enhance this workflow by:
- Adding more specialized agents for SEO optimization or fact-checking
- Implementing sentiment analysis to verify tone consistency
- Integrating image generation for complementary visuals
- Adding content categorization for automatic tagging
- Implementing multiple research sources for more comprehensive coverage

By following this tutorial, you've created a powerful, automated content creation system that handles the entire process from research to polished output, all while maintaining your desired tone and focus.
