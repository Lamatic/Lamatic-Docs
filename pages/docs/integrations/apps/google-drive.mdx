# Google Drive
The Google Drive node in Lamatic is designed to automate the process of fetching and synchronizing files from Google Drive. It supports a variety of file types, including Google Docs, Slides, Word Documents, PDFs, and text files. By configuring batch triggers, the node can regularly collect files from specified Google Drive folders and prepare them for vectorization and indexing in support of RAG (Retrieval-Augmented Generation) flows. It allows users to set synchronization modes and schedules to optimize efficiency.

## What can I build? 
- Automate the regular fetching and synchronization of files from specified Google Drive folders.
- Support the vectorization and indexing of documents to provide context for RAG flows.
- Support various file types, including Google Docs, Google Slides, Word Docs, PDFs, and text.

## Available Functionality
### Batch Trigger
✅ Fetch supported files from a Google Drive on a scheduled interval. This is the first step in flows that vectorize and store contextual data in a vector database to support subsequent RAG requests.

### Event Trigger
❌ When a supported file is created / updated / deleted\
❌ When a folder is created / updated / deleted

### Actions
❌ Create / update / delete a supported file

Supported file types include Google Docs, Google Slides, Word Docs, PDFs and text files.

## Install

### Create a Flow in Lamatic
To set up a flow in Lamatic with a webhook trigger, follow these steps to obtain the necessary webhook configurations.
#### Implementation Options:
1. Create a Custom Flow
    1. Follow our comprehensive [webhook integration guide](https://lamatic.ai/docs/interface/webhooks).
    1. Learn how to configure webhooks as trigger events.
    1. Set up custom actions based on incoming webhook data.
1. Use a Pre-built Template
    1. Start with our ready-to-use [webhook template](https://hub.lamatic.ai/templates/index-from-github).
    1. Quickly implement common webhook scenarios.
    1. Customize the template to suit your specific needs.


### Important Note
Always test the webhook endpoint before deploying it in a production environment. For detailed instructions, refer to our documentation or explore our [template library](https://hub.lamatic.ai/templates/index-from-github).

### Github Action
1. Setup GitHub Secrets: Store sensitive data such as `WEBHOOK_URL` and `WEBHOOK_KEY` in your repository secrets.
1. Create a github action: Add the following YAML to a GitHub Actions workflow file, such as `.github/workflows/lamatic-index-flow.yml`


## Configuration
### Batch Trigger: scheduled
1. Name - Display name for the node. [nodeName]
1. Credentials - Select existing or click +Add Credentials to provide the Google authentication details required to connect to the desired Google Drive folder. [credentials]
1. Folder - Choose the folder from which to fetch the content (either from a folder list or by pasting the share URL). [folderUrl]
1. Additional Properties:
    1. Sync Mode - Save tokens and only process data that has been updated since last run by selecting Incremental or select Full Refresh to clear your vector database of old records and reprocess all data with the current flow (e.g., embedding model, chunking approach, etc.). [syncMode]
    1. Sync Schedule - Specify the frequency with which the flow will run using a Cron scheduler. [cronExpression]

#### LowCode Config 
```js 
// Trigger Config Illustration
{
  "triggerNode": {
    "nodeId": "triggerNode_1",
    "nodeType": "googleDriveNode",
    "nodeName": "Google Drive",
    "values": {
      "syncMode": "incremental_append",
      "folderUrl": "https://drive.google.com/drive/folders/{your-folder-id}",
      "credentials": "{your-google-drive-credentials}",
      "cronExpression": "0 0 05 1/1 * ? * UTC"
    }
  }
}
```

## Troubleshooting Common Issues
#### Indexing Issues
Confirm GitHub Action secrets are set and GitHub Action is running.

#### Webhook Data Issues
Check if GitHub Action is triggering and sending payloads. Modify a file to retrigger if needed.